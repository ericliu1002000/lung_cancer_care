            <div class="p-4 border-b border-slate-100 bg-slate-50">
                <h2 class="font-bold text-slate-700">历史记录</h2>
            </div>
            <div class="flex-1 overflow-y-auto">
                {% if history %}
                    {% for cycle in history %}
                    <div class="border-b border-slate-100">
                        <div class="px-4 py-2 bg-slate-50 text-xs font-bold text-slate-500 uppercase tracking-wider sticky top-0">
                            {{ cycle.name }}
                        </div>
                        {% if cycle.dates %}
                        <ul>
                            {% for d in cycle.dates %}
                            <li>
                                <a hx-get="?date={{ d|date:'Y-m-d' }}" 
                                   hx-target="#detail-container"
                                   hx-swap="innerHTML"
                                   hx-replace-url="true"
                                   class="cursor-pointer block px-6 py-3 text-sm border-l-4 transition-colors hover:bg-slate-50
                                          {% if d == selected_date %}
                                            border-indigo-500 bg-indigo-50 text-indigo-700 font-medium
                                          {% else %}
                                            border-transparent text-slate-600
                                          {% endif %}">
                                    {{ d|date:"Y-m-d" }}
                                </a>
                            </li>
                            {% endfor %}
                        </ul>
                        {% else %}
                             <div class="flex flex-row items-center justify-center  text-slate-600 p-2">
                                <span class="text-[#999999] text-sm">当前疗程下暂无问卷记录日期</p>
                            </div>
                        {% endif %}
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="flex flex-col items-center justify-center h-48 text-slate-400">
                        <p class="text-sm">暂无历史记录</p>
                    </div>
                {% endif %}
            </div>