{% extends "layouts/base_portal.html" %}

{% block title %}管理计划{% endblock %}

{% block body %}
<div class="min-h-screen bg-[#F5F5F5] font-sans pb-10">
    
    <!-- Top Header -->
    <div class="bg-white sticky top-0 z-30 shadow-sm">
        <div class="pt-safe-top">
            <div class="flex items-center h-12 px-4 relative">
                <a href="javascript:history.back()" class="absolute left-4 p-2 -ml-2 text-slate-600 active:opacity-60">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </a>
                <h1 class="w-full text-center text-lg font-bold text-slate-800">我的管理计划</h1>
            </div>
        </div>
    </div>

    <div class="px-4 pt-6 space-y-6">
        
        <!-- Section 1: Medication Plan -->
        {% if medication_plan %}
        <div>
            <div class="flex items-center justify-between mb-3 px-1">
                <h2 class="text-base font-bold text-slate-700">医嘱用药计划</h2>
            </div>
            <div class="bg-white rounded-xl shadow-sm overflow-hidden divide-y divide-slate-100">
                {% for task in medication_plan %}
                <div class="flex items-center justify-between p-4 active:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 flex items-center justify-center text-blue-600">
                            <svg
                                t="1765679457106"
                                class="icon w-5 h-5"
                                viewBox="0 0 1024 1024"
                                version="1.1"
                                xmlns="http://www.w3.org/2000/svg"
                                p-id="22091"
                                width="32"
                                height="32"
                            >
                                <path
                                d="M902.4 121.6c-51.2-51.2-121.6-76.8-192-76.8s-140.8 25.6-192 76.8L121.6 512c-108.8 108.8-108.8 281.6 0 384 51.2 51.2 121.6 76.8 192 76.8s140.8-25.6 192-76.8l396.8-384c51.2-51.2 76.8-121.6 76.8-192 0-76.8-25.6-147.2-76.8-198.4zM480 870.4c-44.8 44.8-102.4 70.4-166.4 70.4s-121.6-25.6-166.4-70.4C57.6 780.8 57.6 633.6 147.2 537.6l179.2-179.2 332.8 332.8-179.2 179.2z m364.8-665.6c-6.4 6.4-19.2 6.4-25.6 0-32-32-70.4-44.8-108.8-44.8-44.8 0-83.2 19.2-108.8 44.8l-121.6 128c-12.8 0-19.2 6.4-19.2 6.4-6.4 0-12.8 0-12.8-6.4-6.4-6.4-6.4-19.2 0-25.6l128-128c38.4-38.4 83.2-57.6 140.8-57.6 51.2 0 102.4 19.2 140.8 57.6-6.4 6.4-6.4 19.2-12.8 25.6z"
                                fill="#1684FC"
                                p-id="22092"
                                ></path>
                            </svg>
                        </div>
                        <span class="text-base font-medium text-slate-700">{{ task.title }}</span>
                    </div>
                    {% if task.status == 'completed' %}
                    <span class="text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full">
                        {{ task.status_text }}
                    </span>
                    {% elif task.status == 'incomplete' %}
                    <span class="text-sm font-medium text-red-500 bg-red-50 px-3 py-1 rounded-full">
                        {{ task.status_text }}
                    </span>
                    {% else %}
                    <span class="text-sm font-medium text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                        {{ task.status_text }}
                    </span>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- Section 2: Monitoring Plan -->
        {% if monitoring_plan %}
        <div>
            <div class="flex items-center justify-between mb-3 px-1">
                <h2 class="text-base font-bold text-slate-700">常规监测计划</h2>
            </div>
            <div class="bg-white rounded-xl shadow-sm overflow-hidden divide-y divide-slate-100">
                {% for task in monitoring_plan %}
                <div class="flex items-center justify-between p-4 active:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 flex items-center justify-center text-blue-600">
                            {% if task.icon == 'temperature' %}
                            <svg
                                t="1765679517010"
                                class="icon w-6 h-6"
                                viewBox="0 0 1024 1024"
                                version="1.1"
                                xmlns="http://www.w3.org/2000/svg"
                                p-id="24205"
                                width="32"
                                height="32"
                            >
                                <path
                                d="M846.611917 85.510536c-59.643402-39.140439-139.895167-22.38994-178.919972 37.309744L341.052606 622.593817c-7.867178 12.038174-11.592013 31.724539-8.668427 45.816488l20.085454 96.674806L266.953981 895.961882c-12.363585 18.891256-7.082302 44.254923 11.799744 56.646138 18.885116 12.390191 44.193525 7.113001 56.561204-11.778254l84.470857-129.270179 99.121532-20.745487c14.048971-2.960425 30.577413-14.245446 38.444591-26.282596l326.637292-499.773538C923.014005 205.057259 906.247132 124.651998 846.611917 85.510536zM866.518293 253.290797 539.881001 753.064334c-4.828982 7.399527-16.636912 15.46932-25.25929 17.267269L390.907061 796.223297c-2.734274 0.569982-5.499248 0.047072-7.839549-1.474584-2.320858-1.542122-3.921309-3.879354-4.489244-6.603395l-25.749454-123.968429c-1.805112-8.654101 0.867764-22.718421 5.689582-30.116925l326.643432-499.774561c32.712029-50.059116 100.024088-64.095807 150.015665-31.28247C885.185444 135.813199 899.246695 203.243961 866.518293 253.290797zM774.693957 194.285938c-38.542828-25.302269-90.436732-14.480806-115.656113 24.118304l-14.263865 21.825075 37.60241 24.663726c7.603165 4.997827 9.743922 15.259542 4.780887 22.892383-4.999874 7.610328-15.249309 9.748015-22.858614 4.76656l-37.59013-24.681122-51.584865 78.9317 37.601386 24.662703c7.615445 5.01113 9.751085 15.258519 4.770653 22.87908-4.980431 7.621585-15.216563 9.756201-22.817682 4.774747l-37.615713-24.692379-51.577702 78.929654 37.589107 24.681122c3.704368 2.425236 6.230911 6.134721 7.123234 10.45205 0.902556 4.330632 0.069585 8.741082-2.351558 12.42703-4.981455 7.621585-15.232936 9.759271-22.838148 4.761444l-37.59627-24.679076-51.577702 78.929654 37.594223 24.664749c3.697205 2.426259 6.235005 6.149047 7.126304 10.467399 0.900509 4.316306 0.069585 8.741082-2.344395 12.426007-4.983501 7.606235-15.226796 9.741875-22.839171 4.747117L417.768849 587.568093l-10.570753 16.173354c-3.721765 5.705955-5.783727 16.544815-4.384867 23.214724l19.85214 95.576799c0.440022 2.113127 1.674129 3.919263 3.461845 5.105275 1.799996 1.167592 3.935636 1.572822 6.043646 1.1328l95.385441-19.953448c6.650467-1.38658 15.748682-7.614421 19.470447-13.319353l251.835655-385.320832C824.095088 271.575232 813.253158 219.583091 774.693957 194.285938z"
                                fill="#01B695"
                                p-id="24206"
                                ></path>
                                <path
                                d="M176.23277 179.806155c18.10024-1.804089 28.052916-11.755742 29.877471-29.877471-1.824555-17.188474-11.777231-26.694989-29.877471-28.519544-17.20894 1.824555-26.715455 11.33107-28.519544 28.519544C149.517315 168.050414 159.02383 178.002067 176.23277 179.806155L176.23277 179.806155zM176.23277 94.247524c34.397415 3.628644 53.410444 22.195511 57.039087 55.68116-3.628644 34.418904-22.641673 53.431933-57.039087 57.039087-33.506115-3.607154-52.072983-22.620184-55.68116-57.039087C124.159788 116.444059 142.727679 97.876168 176.23277 94.247524L176.23277 94.247524zM345.991082 110.544699c47.977711 2.715855 72.868611 15.405875 74.694189 38.026058-0.912789 14.493086-8.148587 22.195511-21.728884 23.086811-3.628644 0-9.060353-1.357927-16.297175-4.074805-12.688997-4.519943-24.912389-6.79066-36.668131-6.79066-41.654702 1.824555-63.383586 28.073382-65.186651 78.767971 2.715855 47.999201 24.444738 73.335239 65.186651 76.052117 11.755742 0 24.445762-3.162016 38.026058-9.506515 7.235798-3.607154 13.113669-5.432733 17.655102-5.432733 12.668531 0.912789 20.370956 9.061376 23.086811 24.444738-0.912789 24.445762-27.161616 37.113269-78.767971 38.026058-74.248028-4.519943-114.077152-46.174646-119.509884-124.942617C231.91393 158.543899 271.743054 115.976408 345.991082 110.544699L345.991082 110.544699z"
                                fill="#01B695"
                                p-id="24207"
                                ></path>
                            </svg>
                            {% elif task.icon == 'spo2' %}
                            <svg
                                class="w-5 h-5 text-cyan-500"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"
                                />
                            </svg>
                            {% elif task.icon == 'bp_hr' %}
                            <svg
                                class="w-5 h-5 text-purple-500"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                                />
                            </svg>
                            {% elif task.icon == 'weight' %}
                             <svg
                                class="w-5 h-5 text-emerald-500"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"
                                />
                            </svg>
                             {% elif task.icon == 'step' %}
                              <svg
                                t="1765677734279"
                                class="icon w-5 h-5"
                                viewBox="0 0 1024 1024"
                                version="1.1"
                                xmlns="http://www.w3.org/2000/svg"
                                p-id="4114"
                                width="32"
                                height="32"
                            >
                                <path
                                d="M742.4 992h-12.8c-25.6 0-51.2-12.8-64-32l-281.6-307.2-6.4-6.4c-6.4-19.2-12.8-25.6-12.8-38.4 0-12.8 0-25.6 6.4-38.4l12.8-51.2-38.4 12.8c0 6.4 6.4 19.2 6.4 32s-6.4 19.2-6.4 32l-25.6 25.6c-12.8 12.8-19.2 12.8-32 19.2-19.2 6.4-44.8 6.4-64-6.4-12.8 0-19.2-12.8-32-19.2-6.4-6.4-12.8-19.2-12.8-32l-25.6-83.2c-6.4-19.2-6.4-38.4 6.4-57.6 6.4-19.2 19.2-32 38.4-44.8l12.8-6.4c19.2-6.4 134.4-57.6 236.8-102.4 32-12.8 51.2-25.6 51.2-25.6-6.4-6.4-12.8-19.2-19.2-25.6-19.2-25.6-25.6-44.8-25.6-70.4 0-38.4 19.2-70.4 44.8-96 25.6-25.6 57.6-38.4 96-38.4 25.6 0 51.2 12.8 70.4 25.6 19.2 12.8 38.4 38.4 44.8 57.6 6.4 25.6 6.4 51.2 6.4 76.8-6.4 25.6-19.2 44.8-38.4 64-19.2 19.2-32 25.6-51.2 32 12.8 6.4 19.2 19.2 25.6 38.4 6.4 19.2 12.8 44.8 6.4 64l-38.4 243.2 198.4 204.8c6.4 12.8 12.8 19.2 19.2 32 6.4 12.8 6.4 25.6 6.4 38.4 0 12.8-6.4 25.6-12.8 38.4-6.4 12.8-12.8 19.2-25.6 25.6-19.2 12.8-44.8 19.2-64 19.2zM435.2 428.8c6.4 0 12.8 0 19.2 6.4 6.4 12.8 12.8 25.6 12.8 32l-38.4 121.6V608l281.6 307.2c6.4 6.4 12.8 12.8 25.6 12.8s19.2 0 25.6-6.4c6.4 0 6.4-6.4 6.4-6.4 0-6.4 0-6.4 6.4-12.8v-12.8c0-6.4 0-6.4-6.4-12.8l-204.8-217.6c-6.4-6.4-12.8-19.2-6.4-25.6l44.8-262.4v-25.6c-12.8 0-12.8-6.4-25.6-12.8-6.4 0-6.4-6.4-6.4-6.4-6.4 0-12.8-6.4-19.2-6.4h-25.6s-19.2 6.4-51.2 19.2C403.2 377.6 256 441.6 243.2 448l-19.2 6.4c0 6.4-6.4 6.4-6.4 12.8v12.8l19.2 89.6 6.4 6.4h32l6.4-6.4v-6.4-6.4l-6.4-38.4c-6.4-12.8 6.4-25.6 19.2-32l128-51.2c0-6.4 6.4-6.4 12.8-6.4z m153.6-332.8c-19.2 0-32 6.4-44.8 19.2-12.8 12.8-25.6 32-25.6 51.2 0 12.8 6.4 25.6 12.8 38.4 6.4 12.8 19.2 19.2 32 25.6 12.8 6.4 25.6 6.4 38.4 6.4 12.8 0 25.6-6.4 32-19.2l19.2-38.4v-38.4c-6.4-12.8-12.8-19.2-25.6-32-12.8-6.4-19.2-12.8-38.4-12.8z"
                                fill="#3662EC"
                                p-id="4115"
                                ></path>
                                <path
                                d="M307.2 921.6h-12.8l-140.8-44.8c-25.6-6.4-38.4-25.6-51.2-44.8-6.4-19.2-6.4-44.8 0-64 0-6.4 6.4-19.2 12.8-25.6s12.8-19.2 25.6-25.6c6.4-6.4 19.2-12.8 25.6-12.8h32l51.2 19.2 19.2-32c6.4-12.8 19.2-19.2 32-25.6 12.8-6.4 25.6 0 38.4 6.4 6.4 0 12.8 6.4 12.8 12.8l57.6 64c6.4 12.8 12.8 19.2 12.8 32s0 25.6-12.8 32l-32 51.2c6.4 19.2-6.4 32-25.6 44.8-12.8 6.4-25.6 12.8-44.8 12.8z m-121.6-160c-6.4 0-12.8 0-12.8 6.4l-6.4 6.4s0 6.4-6.4 6.4v19.2c0 6.4 6.4 6.4 12.8 12.8l134.4 44.8s6.4 0 12.8-6.4c6.4 0 6.4-6.4 12.8-12.8l32-51.2-44.8-51.2-32 57.6-102.4-32zM800 595.2c-12.8 0-25.6 0-38.4-6.4l-64-32S672 544 672 512l12.8-89.6c6.4-19.2 12.8-25.6 25.6-32 6.4-6.4 19.2-6.4 32 0l12.8 6.4 89.6 38.4c6.4 0 12.8 6.4 19.2 12.8 6.4 6.4 12.8 19.2 19.2 32 6.4 12.8 6.4 25.6 6.4 32 0 12.8 0 25.6-6.4 32-6.4 12.8-12.8 19.2-19.2 25.6-6.4 6.4-19.2 12.8-32 19.2-12.8 6.4-19.2 6.4-32 6.4z m-64-89.6l57.6 25.6h19.2c6.4 0 6.4 0 6.4-6.4s6.4-6.4 6.4-6.4V512v-6.4s0-6.4-6.4-6.4l-6.4-6.4-70.4-32-6.4 44.8z m-19.2-6.4c6.4 0 0 0 0 0z m6.4-51.2z"
                                fill="#3662EC"
                                p-id="4116"
                                ></path>
                            </svg>
                            {% endif %}
                        </div>
                        <span class="text-base font-medium text-slate-700">{{ task.title }}</span>
                    </div>
                    {% if task.status == 'completed' %}
                    <span class="text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full">
                        {{ task.status_text }}
                    </span>
                    {% elif task.status == 'incomplete' %}
                    <span class="text-sm font-medium text-red-500 bg-red-50 px-3 py-1 rounded-full">
                        {{ task.status_text }}
                    </span>
                    {% else %}
                    <span class="text-sm font-medium text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                        {{ task.status_text }}
                    </span>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- Section 3: Treatment Courses -->
        {% if treatment_courses %}
        <div>
            <div class="flex items-center justify-between mb-3 px-1 mt-8">
                <h2 class="text-base font-bold text-slate-700">复查与随访问卷计划</h2>
            </div>
            
            {% for course in treatment_courses %}
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-4 p-4">
                <div class="flex items-center gap-2 mb-4">
                    <h3 class="text-base font-bold text-slate-700">{{ course.name }}</h3>
                    {% if course.is_current %}
                    <span class="text-sm font-medium text-slate-500">（当前疗程）</span>
                    {% endif %}
                </div>
                
                <div class="space-y-3">
                    {% for item in course.items %}
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-6 h-6 flex items-center justify-center text-blue-600">
                                {% if item.type == 'questionnaire' %}
                                <svg t="1769521677401" class="icon w-5 h-5" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4068" width="48" height="48"><path d="M441.216 484.032a29.76 29.76 0 0 0-41.984-2.112l-5.824 5.44-35.456 32.128-20.224-16.64a29.568 29.568 0 0 0-48.384 18.176 29.952 29.952 0 0 0 10.816 27.904l40.128 32.768a29.44 29.44 0 0 0 38.72-0.896l60.16-54.72a29.888 29.888 0 0 0 2.048-42.048z m0-147.456a29.76 29.76 0 0 0-41.984-2.048l-5.824 5.376-35.456 32.128-20.224-16.576a29.568 29.568 0 0 0-48.384 18.112 29.952 29.952 0 0 0 10.816 27.904l40.128 32.832a29.44 29.44 0 0 0 38.72-0.96l60.16-54.72a29.888 29.888 0 0 0 2.048-42.048z m262.912 225.664H525.696a30.976 30.976 0 0 1 0-61.824h178.432a30.976 30.976 0 0 1 0 61.824z m0 147.456H319.808a30.976 30.976 0 0 1 0-61.824h384.32a30.976 30.976 0 0 1 0 61.824z m0-294.912H525.696a30.976 30.976 0 0 1 0-61.824h178.432a30.976 30.976 0 0 1 0 61.824zM235.136 189.056a46.144 46.144 0 0 0-46.144 46.08v553.6c0 25.536 20.672 46.08 46.144 46.08h553.6a46.144 46.144 0 0 0 46.208-46.08v-553.6a46.08 46.08 0 0 0-46.144-46.08h-553.6zM224 128h576A96 96 0 0 1 896 224v576a96 96 0 0 1-96 96h-576A96 96 0 0 1 128 800v-576A96 96 0 0 1 224 128z" fill="#377CFB" p-id="4069"></path></svg>
                                {% else %}
                                <svg t="1769521714480" class="icon w-5 h-5" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6359" width="48" height="48"><path d="M308.6 734.5H716c10.2 0 18.5 8.3 18.5 18.5v18.5c0 10.2-8.3 18.5-18.5 18.5H308.6c-10.2 0-18.5-8.3-18.5-18.5V753c-0.1-10.2 8.2-18.5 18.5-18.5z m0-111.2H716c10.2 0 18.5 8.3 18.5 18.5v18.5c0 10.2-8.3 18.5-18.5 18.5H308.6c-10.2 0-18.5-8.3-18.5-18.5v-18.5c-0.1-10.2 8.2-18.5 18.5-18.5zM531.9 245c-10.8-10.8-28.4-10.8-39.3 0L374.8 362.9c-10.8 10.8-10.8 28.4 0 39.3L492.6 520c10.8 10.8 28.4 10.8 39.3 0l117.9-117.9c10.8-10.8 10.8-28.4 0-39.3L531.9 245z m39.3-39.3l117.9 117.9c32.5 32.5 32.5 85.3 0 117.9L571.2 559.3c-32.5 32.5-85.3 32.5-117.9 0L335.5 441.5c-32.5-32.5-32.5-85.3 0-117.9l117.9-117.9c32.5-32.5 85.3-32.5 117.8 0z m-392.3-82.4v777.9h666.7V123.3H178.9z m0-55.6h666.7c30.7 0 55.6 24.9 55.6 55.6v777.9c0 30.7-24.9 55.6-55.6 55.6H178.9c-30.7 0-55.6-24.9-55.6-55.6V123.3c0.1-30.7 24.9-55.6 55.6-55.6z m305.6 287.1v-37c0-10.2 8.3-18.5 18.5-18.5h18.5c10.2 0 18.5 8.3 18.5 18.5v37h37c10.2 0 18.5 8.3 18.5 18.5v18.5c0 10.2-8.3 18.5-18.5 18.5h-37v37c0 10.2-8.3 18.5-18.5 18.5H503c-10.2 0-18.5-8.3-18.5-18.5v-37h-37c-10.2 0-18.5-8.3-18.5-18.5v-18.5c0-10.2 8.3-18.5 18.5-18.5h37z" fill="#1485FF" p-id="6360"></path></svg>
                                {% endif %}
                            </div>
                            <span class="text-base font-medium text-slate-700">{{ item.title }}</span>
                        </div>
                        
                        <div class="flex items-center gap-3">
                            <span class="text-sm text-slate-500">日期：{{ item.date }}</span>
                            
                            {% if item.status == 'completed' %}
                            <span class="text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded">
                                {{ item.status_text }}
                            </span>
                            {% elif item.status == 'incomplete' %}
                            <span class="text-xs font-medium text-red-500 bg-red-50 px-2 py-1 rounded">
                                {{ item.status_text }}
                            </span>
                            {% else %}
                            <span class="text-xs font-medium text-slate-500 bg-slate-100 px-2 py-1 rounded">
                                {{ item.status_text }}
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    {% if not forloop.last %}
                    <div class="border-b border-slate-100 my-2"></div>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Empty State -->
        {% if not medication_plan and not monitoring_plan and not treatment_courses %}
         <div class="flex flex-col items-center justify-center py-10">
                <div class="flex items-center justify-center mb-3 ">
               <svg  class="w-[140px] h-[140px]" height="1291" node-id="1" sillyvg="true" template-height="1291" template-width="1430" version="1.1" viewBox="0 0 1430 1291" width="1430" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs node-id="47"><linearGradient gradientUnits="objectBoundingBox" id="_未命名的渐变_10" node-id="5" spreadMethod="pad" x1="714.93" x2="714.93" y1="1290.92" y2="995.69"><stop offset="0" stop-color="#f7fbff" stop-opacity="0.5"/><stop offset="1" stop-color="#ecf5ff"/></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="_未命名的渐变_14" node-id="8" spreadMethod="pad" x1="754.65" x2="950.36" y1="1394.38" y2="1394.38"><stop offset="0" stop-color="#dcedff"/><stop offset="1" stop-color="#4095e6"/></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="_未命名的渐变_15" node-id="11" spreadMethod="pad" x1="1227.25" x2="1007.27" y1="66.57" y2="66.57"><stop offset="0" stop-color="#f7fbff"/><stop offset="1" stop-color="#ecf5ff"/></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="_未命名的渐变_14-2" node-id="14" spreadMethod="pad" x1="754.19" x2="754.19" y1="998.75" y2="475.29"><stop offset="0" stop-color="#dcedff"/><stop offset="1" stop-color="#4095e6"/></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="_未命名的渐变_51" node-id="15" spreadMethod="pad" x1="755.45" x2="755.45" y1="503.63" y2="451.53"><stop offset="0" stop-color="#64aaec"/><stop offset="1" stop-color="#4095e6"/></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="_未命名的渐变_14-3" node-id="18" spreadMethod="pad" x1="752.01" x2="752.01" y1="802.5" y2="608.5"><stop offset="0" stop-color="#dcedff"/><stop offset="1" stop-color="#4095e6"/></linearGradient></defs><g node-id="146"><path d="M 1429.86 1143.31 C 1429.86 1182.46 1354.54 1220.01 1220.46 1247.69 C 1086.39 1275.38 904.54 1290.93 714.93 1290.93 C 525.32 1290.93 343.47 1275.38 209.40 1247.69 C 75.32 1220.01 0.00 1182.46 0.00 1143.31 C 0.00 1104[... 8825 chars omitted ...]
            </div>
                <p class="text-slate-500 font-medium text-sm">今日暂无计划</p>
                <p class="text-slate-400 text-sm mt-0.5">请联系医生为您制定康复计划</p>
            </div>
        {% endif %}

    </div>
</div>

<script>
function handleTaskClick(title, type) {
    // 移除之前的跳转逻辑，保持默认展示
}
</script>
{% endblock %}
